# êµí†µ ë²•ë¥  AI ì„œë¹„ìŠ¤ ì‹œìŠ¤í…œ ì„¤ê³„ì„œ

## ğŸ“‹ ë¬¸ì„œ ì •ë³´

- **í”„ë¡œì íŠ¸ëª…**: êµí†µ ë²•ë¥  AI ì—ì´ì „íŠ¸ ì„œë¹„ìŠ¤
- **ë²„ì „**: 1.0
- **ì‘ì„±ì¼**: 2025-11-04
- **í˜„ì¬ ì§„í–‰ë¥ **: 85%

---

## ğŸ¯ í”„ë¡œì íŠ¸ ê°œìš”

### ëª©ì 
êµí†µ ê´€ë ¨ ë²•ë¥  íŒë¡€ ë° ë²•ë ¹ì„ ê¸°ë°˜ìœ¼ë¡œ ì‚¬ìš©ìì—ê²Œ ë²•ë¥  ì •ë³´ë¥¼ ì œê³µí•˜ëŠ” AI ê¸°ë°˜ ì„œë¹„ìŠ¤ êµ¬ì¶•

### í•µì‹¬ ê¸°ëŠ¥
1. **PDF OCR ì²˜ë¦¬**: ë²•ë¥  ë¬¸ì„œ ì—…ë¡œë“œ ë° í…ìŠ¤íŠ¸ ì¶”ì¶œ
2. **íŒë¡€ í¬ë¡¤ë§**: ë²•ì œì²˜ OpenAPIë¥¼ í†µí•œ ì£¼ê¸°ì  ë°ì´í„° ìˆ˜ì§‘
3. **RAG ì‹œìŠ¤í…œ**: ìœ ì‚¬ íŒë¡€ ê²€ìƒ‰ ë° ë²•ë¥  ì§ˆì˜ì‘ë‹µ
4. **ë°ì´í„° ê´€ë¦¬**: PostgreSQL + ChromaDB í•˜ì´ë¸Œë¦¬ë“œ ì €ì¥ì†Œ

---

## ğŸ—ï¸ ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤                          â”‚
â”‚                    (Web/Mobile - ì¶”í›„ êµ¬í˜„)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      FastAPI REST API                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚  Upload  â”‚Documents â”‚   OCR    â”‚   RAG    â”‚   Admin      â”‚  â”‚
â”‚  â”‚  (ë¬¸ì„œ)   â”‚ (ì¡°íšŒ)    â”‚ (ì²˜ë¦¬)   â”‚ (ê²€ìƒ‰)    â”‚  (ê´€ë¦¬)      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼               â–¼               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ PostgreSQL  â”‚  â”‚  ChromaDB   â”‚  â”‚   MinIO     â”‚
â”‚  (ë©”íƒ€ë°ì´í„°) â”‚  â”‚  (ë²¡í„° DB)  â”‚  â”‚ (íŒŒì¼ ì €ì¥)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â–²               â–²               â–²
         â”‚               â”‚               â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  Redis (ìºì‹œ/í)
                         â–²
                         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â–¼                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  í¬ë¡¤ë§ ì›Œì»¤      â”‚            â”‚  OCR ì›Œì»¤        â”‚
â”‚  (ì£¼ê¸°ì  ì‹¤í–‰)    â”‚            â”‚  (ë°±ê·¸ë¼ìš´ë“œ)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚                               â”‚
         â–¼                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ë²•ì œì²˜ OpenAPI   â”‚            â”‚ Tesseract OCR   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š ë°ì´í„° êµ¬ì¡° ë° íë¦„

### 1. ë°ì´í„° ì†ŒìŠ¤

#### A. í•™ìŠµ ë°ì´í„° (ê¸°ë³¸ ë°ì´í„°)
- **ìœ„ì¹˜**: `.data/04.í˜•ì‚¬ë²• LLM ì‚¬ì „í•™ìŠµ ë° Instruction Tuning ë°ì´í„°`
- **ì›ë³¸**: 75,046ê°œ íŒŒì¼
- **í•„í„°ë§ í›„**: 11,769ê±´ (êµí†µ ê´€ë ¨)
- **ì²˜ë¦¬ ìƒíƒœ**: âœ… ì™„ë£Œ

**íŒŒì¼ êµ¬ì¡°**:
```
.data/
â””â”€â”€ 04.í˜•ì‚¬ë²• LLM ì‚¬ì „í•™ìŠµ.../
    â”œâ”€â”€ TL_íŒê²°ë¬¸_QA/      (9,198ê±´)
    â”œâ”€â”€ TL_ê²°ì •ë¡€_QA/      (466ê±´)
    â”œâ”€â”€ TL_í•´ì„ë¡€_SUM/     (12ê±´)
    â”œâ”€â”€ TL_ë²•ë ¹_QA/        (2,093ê±´)
    â””â”€â”€ TS_íŒê²°ë¬¸/         (CSV ì „ë¬¸, 81.2%)
```

#### B. í¬ë¡¤ë§ ë°ì´í„° (ì¦ë¶„ ë°ì´í„°)
- **ì†ŒìŠ¤**: ë²•ì œì²˜ OpenAPI
- **ì£¼ê¸°**: ë§¤ì¼ ìƒˆë²½ 2ì‹œ (ê³„íš)
- **í‚¤ì›Œë“œ**: 40+ êµí†µ ê´€ë ¨ í‚¤ì›Œë“œ
- **ì²˜ë¦¬ ìƒíƒœ**: âš ï¸ ìƒ˜í”Œë§Œ ìˆ˜ì§‘ (20ê±´)

---

### 2. ë°ì´í„° ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸

```
[ì›ë³¸ ë°ì´í„°] â†’ [í•„í„°ë§] â†’ [í˜•ì‹ í†µí•©] â†’ [ì„ë² ë”©] â†’ [ì„œë¹„ìŠ¤]
```

#### Step 1: í•„í„°ë§
**ìŠ¤í¬ë¦½íŠ¸**: `scripts/filter_traffic_from_training_data.py`

```
ì…ë ¥: 75,046ê°œ JSON íŒŒì¼
  â†“ (í‚¤ì›Œë“œ ë§¤ì¹­)
ì¶œë ¥: 11,769ê±´ êµí†µ ê´€ë ¨ ì¼€ì´ìŠ¤
  - íŒë¡€: 9,198ê±´
  - ë²•ë ¹: 2,093ê±´
  - ê²°ì •ë¡€: 466ê±´
  - í•´ì„ë¡€: 12ê±´
```

**í•„í„°ë§ ê¸°ì¤€**:
- **ê°•í•œ í‚¤ì›Œë“œ** (7ê°œ): êµí†µì‚¬ê³ , ë„ë¡œêµí†µë²•, ìŒì£¼ìš´ì „, ëº‘ì†Œë‹ˆ, êµí†µì‚¬ê³ ì²˜ë¦¬íŠ¹ë¡€ë²•, ë¬´ë©´í—ˆìš´ì „, ì‹ í˜¸ìœ„ë°˜
- **ì¼ë°˜ í‚¤ì›Œë“œ** (40+ê°œ): ì°¨ëŸ‰, ìë™ì°¨, ì†ë„ìœ„ë°˜, ì¤‘ì•™ì„ ì¹¨ë²” ë“±
- **ë§¤ì¹­ ì¡°ê±´**: ê°•í•œ í‚¤ì›Œë“œ 1ê°œ OR ì¼ë°˜ í‚¤ì›Œë“œ 1ê°œ ì´ìƒ

**ì¶œë ¥**: `filtered_traffic_data/filtered_traffic_cases_20251103_170355.json` (21MB)

---

#### Step 2: í˜•ì‹ í†µí•©
**ìŠ¤í¬ë¦½íŠ¸**: `scripts/unify_to_crawling_format.py`

**ëª©ì **: í•™ìŠµ ë°ì´í„°ë¥¼ í¬ë¡¤ë§ ë°ì´í„° í˜•ì‹ìœ¼ë¡œ í†µì¼

```
ì…ë ¥: í•„í„°ë§ëœ 11,769ê±´
  â†“ (í˜•ì‹ ë³€í™˜ + CSV ì „ë¬¸ í¬í•¨)
ì¶œë ¥: í†µí•© í˜•ì‹ 11,769ê±´ (444MB)
```

**ì£¼ìš” ë³€í™˜**:
1. CSV íŒŒì¼ì—ì„œ ì „ë¬¸ ì½ê¸° (81.2% ì¼€ì´ìŠ¤)
2. íŒë¡€ë‚´ìš© íŒŒì‹± (íŒì‹œì‚¬í•­, íŒê²°ìš”ì§€, ì´ìœ , ì£¼ë¬¸, ì „ë¬¸)
3. ë©”íƒ€ë°ì´í„° ì¶”ê°€ (AIí•™ìŠµë°ì´í„°, ë§¤ì¹­í‚¤ì›Œë“œ)
4. í‰í‰í•œ êµ¬ì¡°ë¡œ í†µì¼

**ì¶œë ¥**: `unified_traffic_data/unified_traffic_data_20251103_174822.json` (444MB)

**ë°ì´í„° í˜•ì‹**:
```json
{
  "ìˆ˜ì§‘ì •ë³´": {
    "ìˆ˜ì§‘ì‹œê°": "2025-11-03T17:48:22",
    "ì „ì²´ê±´ìˆ˜": 11769,
    "íƒ€ì…ë³„ê±´ìˆ˜": {...}
  },
  "íŒë¡€": [
    {
      "ê²€ìƒ‰ì–´": "êµí†µì‚¬ê³ ",
      "ì‚¬ê±´ë²ˆí˜¸": "2013ë…¸7",
      "ë²•ì›ëª…": "ê´‘ì£¼ê³ ë“±ë²•ì›",
      "íŒë¡€ì¼ë ¨ë²ˆí˜¸": "xxxxx",
      "ìƒì„¸ì •ë³´": {
        "íŒì‹œì‚¬í•­": "",
        "íŒê²°ìš”ì§€": "",
        "ì´ìœ ": "...",
        "ì£¼ë¬¸": "...",
        "ì°¸ì¡°ì¡°ë¬¸": "",
        "ì „ë¬¸": "ã€í”¼ ê³  ì¸ã€‘..."
      },
      "ë©”íƒ€ë°ì´í„°": {
        "CSVì¡´ì¬ì—¬ë¶€": true,
        "ë§¤ì¹­í‚¤ì›Œë“œ": ["êµí†µì‚¬ê³ ", "ì°¨ëŸ‰"],
        "AIí•™ìŠµë°ì´í„°": {
          "instruction": "...",
          "input": "...",
          "output": "..."
        }
      }
    }
  ]
}
```

---

#### Step 3: ì„ë² ë”© ìƒì„±
**ìŠ¤í¬ë¦½íŠ¸**: `scripts/create_embeddings_chromadb.py`

```
ì…ë ¥: í†µí•© ë°ì´í„° 11,769ê±´
  â†“ (OpenAI Embeddings API)
ì„ë² ë”©: 1536ì°¨ì› ë²¡í„° 11,769ê°œ
  â†“ (ChromaDB ì €ì¥)
ì¶œë ¥: ChromaDB ì»¬ë ‰ì…˜
```

**ì²˜ë¦¬ ê³¼ì •**:
1. í…ìŠ¤íŠ¸ ì¤€ë¹„: íŒì‹œì‚¬í•­ + íŒê²°ìš”ì§€ + ì´ìœ  + ì „ë¬¸ (ìµœëŒ€ 8000ì)
2. OpenAI API í˜¸ì¶œ: `text-embedding-3-small` ëª¨ë¸
3. ChromaDB ì €ì¥: ë²¡í„° + ë©”íƒ€ë°ì´í„°

**ë©”íƒ€ë°ì´í„°**:
```python
{
    "case_type": "íŒë¡€",
    "ì‚¬ê±´ë²ˆí˜¸": "2013ë…¸7",
    "ë²•ì›ëª…": "ê´‘ì£¼ê³ ë“±ë²•ì›",
    "ì„ ê³ ì¼ì": "2013.XX.XX",
    "íŒë¡€ì¼ë ¨ë²ˆí˜¸": "xxxxx",
    "íŒê²°ìš”ì§€": "...",  # 500ì ì œí•œ
    "CSVì¡´ì¬ì—¬ë¶€": "True"
}
```

**ì˜ˆìƒ ë¹„ìš©**: ~$0.47 (11,769ê±´)
**ì˜ˆìƒ ì‹œê°„**: 15~20ë¶„

---

#### Step 4: í¬ë¡¤ë§ ì¦ë¶„ ì—…ë°ì´íŠ¸ (ê³„íš)

```
[ë²•ì œì²˜ API] â†’ [í¬ë¡¤ë§] â†’ [ì¤‘ë³µ ê²€ì‚¬] â†’ [ë³‘í•©] â†’ [ì„ë² ë”©] â†’ [ChromaDB ì—…ë°ì´íŠ¸]
```

**ìŠ¤í¬ë¦½íŠ¸** (ê³„íš):
- `scripts/crawl_legal_cases.py` (ìˆ˜ì • í•„ìš”)
- `scripts/identify_new_cases.py` (ë¯¸êµ¬í˜„)
- `scripts/merge_new_data.py` (ë¯¸êµ¬í˜„)
- `scripts/create_embeddings_incremental.py` (ë¯¸êµ¬í˜„)

**ì£¼ê¸°**: ë§¤ì¼ ìƒˆë²½ 2ì‹œ (Cron/Celery)

---

## ğŸ—„ï¸ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

### 1. PostgreSQL (ë©”íƒ€ë°ì´í„°)

**ìš©ë„**: ë¬¸ì„œ ë©”íƒ€ë°ì´í„°, ì‚¬ìš©ì ì •ë³´, OCR ì‘ì—… ê´€ë¦¬

#### í…Œì´ë¸” êµ¬ì¡°

```sql
-- ì‚¬ìš©ì
CREATE TABLE users (
    id UUID PRIMARY KEY,
    email VARCHAR(255) UNIQUE,
    hashed_password VARCHAR(255),
    is_active BOOLEAN DEFAULT TRUE,
    created_at TIMESTAMP
);

-- ë¬¸ì„œ
CREATE TABLE documents (
    id UUID PRIMARY KEY,
    user_id UUID REFERENCES users(id),
    title VARCHAR(500),
    file_path VARCHAR(1000),
    file_size BIGINT,
    mime_type VARCHAR(100),
    is_public BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP,
    updated_at TIMESTAMP
);

-- ë¬¸ì„œ í˜ì´ì§€
CREATE TABLE document_pages (
    id UUID PRIMARY KEY,
    document_id UUID REFERENCES documents(id),
    page_number INTEGER,
    image_path VARCHAR(1000),
    ocr_text TEXT,
    confidence_score FLOAT,
    created_at TIMESTAMP
);

-- êµ¬ì¡°í™” ë°ì´í„°
CREATE TABLE document_structured_data (
    id UUID PRIMARY KEY,
    document_id UUID REFERENCES documents(id),
    section_type VARCHAR(100),  -- instruction, input, output
    content TEXT,
    sequence_order INTEGER,
    created_at TIMESTAMP
);

-- AI ë ˆì´ë¸”
CREATE TABLE document_ai_labels (
    id UUID PRIMARY KEY,
    document_id UUID REFERENCES documents(id),
    instruction_text TEXT,
    input_text TEXT,
    output_text TEXT,
    created_at TIMESTAMP
);

-- OCR ì‘ì—…
CREATE TABLE ocr_jobs (
    id UUID PRIMARY KEY,
    document_id UUID REFERENCES documents(id),
    status VARCHAR(50),  -- pending, processing, completed, failed
    engine VARCHAR(50),  -- tesseract, easyocr, paddleocr
    started_at TIMESTAMP,
    completed_at TIMESTAMP,
    error_message TEXT
);

-- ê°ì‚¬ ë¡œê·¸
CREATE TABLE audit_logs (
    id UUID PRIMARY KEY,
    user_id UUID REFERENCES users(id),
    action VARCHAR(100),
    resource_type VARCHAR(100),
    resource_id UUID,
    details JSONB,
    created_at TIMESTAMP
);
```

**ì¸ë±ìŠ¤**:
```sql
CREATE INDEX idx_documents_user_id ON documents(user_id);
CREATE INDEX idx_document_pages_document_id ON document_pages(document_id);
CREATE INDEX idx_ocr_jobs_status ON ocr_jobs(status);
CREATE INDEX idx_audit_logs_user_id ON audit_logs(user_id);
```

---

### 2. ChromaDB (ë²¡í„° ë°ì´í„°)

**ìš©ë„**: ì„ë² ë”© ë²¡í„° ì €ì¥ ë° ìœ ì‚¬ë„ ê²€ìƒ‰

**ì»¬ë ‰ì…˜**: `traffic_legal_cases`

**ë°ì´í„° êµ¬ì¡°**:
```python
{
    "id": "íŒë¡€_79038",
    "embedding": [0.023, -0.015, ...],  # 1536ì°¨ì›
    "metadata": {
        "case_type": "íŒë¡€",
        "ì‚¬ê±´ë²ˆí˜¸": "2007ë…¸799",
        "ë²•ì›ëª…": "ì „ì£¼ì§€ë°©ë²•ì›",
        "ì„ ê³ ì¼ì": "2008.02.15",
        "íŒë¡€ì¼ë ¨ë²ˆí˜¸": "79038",
        "íŒê²°ìš”ì§€": "...",
        "CSVì¡´ì¬ì—¬ë¶€": "True"
    },
    "document": "ì‚¬ê±´ë²ˆí˜¸: 2007ë…¸799\në²•ì›: ì „ì£¼ì§€ë°©ë²•ì›\n..."
}
```

**ì €ì¥ ìœ„ì¹˜**: `./chroma_db/`

**íŠ¹ì§•**:
- ì˜ì†ì„± (PersistentClient)
- ë©”íƒ€ë°ì´í„° í•„í„°ë§ ì§€ì›
- ì½”ì‚¬ì¸ ìœ ì‚¬ë„ ê²€ìƒ‰

---

### 3. MinIO (íŒŒì¼ ì €ì¥ì†Œ)

**ìš©ë„**: ì—…ë¡œë“œëœ PDF, ì´ë¯¸ì§€, OCR ê²°ê³¼ ì €ì¥

**ë²„í‚· êµ¬ì¡°**:
```
minio/
â”œâ”€â”€ documents/          # ì›ë³¸ ë¬¸ì„œ
â”‚   â”œâ”€â”€ private/       # ì‚¬ìš©ì ì—…ë¡œë“œ ë¬¸ì„œ
â”‚   â””â”€â”€ public/        # ê³µê°œ ë¬¸ì„œ
â”œâ”€â”€ ocr-results/       # OCR ê²°ê³¼
â””â”€â”€ temp/             # ì„ì‹œ íŒŒì¼
```

---

### 4. Redis (ìºì‹œ/ë©”ì‹œì§€ í)

**ìš©ë„**:
- ì„¸ì…˜ ê´€ë¦¬
- API ì‘ë‹µ ìºì‹±
- Celery ë©”ì‹œì§€ í

---

## ğŸ”Œ API ì„¤ê³„

### Base URL
```
http://localhost:8000/api/v1
```

### ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡

#### 1. Upload API (`/upload`)

| Method | Endpoint | ì„¤ëª… | ìƒíƒœ |
|--------|----------|------|------|
| POST | `/upload/pdf` | PDF ì—…ë¡œë“œ | âœ… |
| POST | `/upload/image` | ì´ë¯¸ì§€ ì—…ë¡œë“œ | âœ… |

**ìš”ì²­ ì˜ˆì‹œ**:
```bash
curl -X POST "http://localhost:8000/api/v1/upload/pdf" \
  -F "file=@document.pdf"
```

---

#### 2. Documents API (`/documents`)

| Method | Endpoint | ì„¤ëª… | ìƒíƒœ |
|--------|----------|------|------|
| GET | `/documents` | ë¬¸ì„œ ëª©ë¡ ì¡°íšŒ | âœ… |
| GET | `/documents/{id}` | ë¬¸ì„œ ìƒì„¸ ì¡°íšŒ | âœ… |
| GET | `/documents/{id}/structured` | êµ¬ì¡°í™” ë°ì´í„° | âœ… |
| DELETE | `/documents/{id}` | ë¬¸ì„œ ì‚­ì œ | âœ… |

---

#### 3. OCR API (`/ocr`)

| Method | Endpoint | ì„¤ëª… | ìƒíƒœ |
|--------|----------|------|------|
| POST | `/ocr/process` | OCR ì²˜ë¦¬ ì‹œì‘ | âœ… |
| GET | `/ocr/jobs/{id}` | ì‘ì—… ìƒíƒœ ì¡°íšŒ | âœ… |

---

#### 4. RAG API (`/rag`) â­ ì‹ ê·œ

| Method | Endpoint | ì„¤ëª… | ìƒíƒœ |
|--------|----------|------|------|
| POST | `/rag/similar-cases` | ìœ ì‚¬ íŒë¡€ ê²€ìƒ‰ | âœ… |
| POST | `/rag/legal-qa` | ë²•ë¥  ì§ˆì˜ì‘ë‹µ | âœ… |
| POST | `/rag/recommend-cases` | íŒë¡€ ì¶”ì²œ | âœ… |
| GET | `/rag/stats` | í†µê³„ ì¡°íšŒ | âœ… |

**1) ìœ ì‚¬ íŒë¡€ ê²€ìƒ‰**
```bash
POST /api/v1/rag/similar-cases
{
  "query": "ë¬´ë³´í—˜ ì°¨ëŸ‰ êµí†µì‚¬ê³ ",
  "top_k": 5,
  "case_type": "íŒë¡€",
  "court_name": "ëŒ€ë²•ì›"
}
```

**ì‘ë‹µ**:
```json
{
  "query": "ë¬´ë³´í—˜ ì°¨ëŸ‰ êµí†µì‚¬ê³ ",
  "results": [
    {
      "case_id": "íŒë¡€_79038",
      "case_type": "íŒë¡€",
      "ì‚¬ê±´ë²ˆí˜¸": "2007ë…¸799",
      "ë²•ì›ëª…": "ì „ì£¼ì§€ë°©ë²•ì›",
      "ì„ ê³ ì¼ì": "2008.02.15",
      "íŒê²°ìš”ì§€": "êµí†µì‚¬ê³ ì²˜ë¦¬íŠ¹ë¡€ë²• ì œ4ì¡°...",
      "similarity_score": 0.92
    }
  ],
  "total_found": 5
}
```

**2) ë²•ë¥  ì§ˆì˜ì‘ë‹µ**
```bash
POST /api/v1/rag/legal-qa
{
  "question": "ë¬´ë³´í—˜ ì°¨ëŸ‰ìœ¼ë¡œ êµí†µì‚¬ê³ ë¥¼ ëƒˆì„ ë•Œ ì²˜ë²Œì€?",
  "top_k": 3,
  "include_sources": true
}
```

**ì‘ë‹µ**:
```json
{
  "question": "ë¬´ë³´í—˜ ì°¨ëŸ‰ìœ¼ë¡œ...",
  "answer": "êµí†µì‚¬ê³ ì²˜ë¦¬íŠ¹ë¡€ë²• ì œ4ì¡° ì œ1í•­ì— ë”°ë¥´ë©´...",
  "sources": [
    {
      "case_id": "íŒë¡€_79038",
      "ì‚¬ê±´ë²ˆí˜¸": "2007ë…¸799",
      "similarity_score": 0.92
    }
  ]
}
```

---

## ğŸ› ï¸ ê¸°ìˆ  ìŠ¤íƒ

### Backend
- **Framework**: FastAPI 0.115.9
- **Language**: Python 3.11+
- **ASGI Server**: Uvicorn

### Database
- **RDB**: PostgreSQL 16.2
- **Vector DB**: ChromaDB 0.3.23
- **Object Storage**: MinIO
- **Cache/Queue**: Redis 7.2

### AI/ML
- **OCR**: Tesseract OCR 5.5.1
- **Embeddings**: OpenAI text-embedding-3-small
- **LLM**: OpenAI GPT-4o-mini / GPT-4

### Infrastructure
- **Containerization**: Docker, Docker Compose
- **Migration**: Alembic
- **Task Queue**: Celery (ê³„íš)

---

## ğŸ“‚ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
ai-camp-1st-llm-agent-service-project-2/
â”œâ”€â”€ app/                          # FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜
â”‚   â”œâ”€â”€ api/                      # API ì—”ë“œí¬ì¸íŠ¸
â”‚   â”‚   â””â”€â”€ v1/
â”‚   â”‚       â”œâ”€â”€ endpoints/
â”‚   â”‚       â”‚   â”œâ”€â”€ upload.py     # ì—…ë¡œë“œ API
â”‚   â”‚       â”‚   â”œâ”€â”€ documents.py  # ë¬¸ì„œ API
â”‚   â”‚       â”‚   â””â”€â”€ ocr.py        # OCR API
â”‚   â”‚       â”œâ”€â”€ rag.py           # RAG API â­
â”‚   â”‚       â””â”€â”€ __init__.py
â”‚   â”œâ”€â”€ core/                     # í•µì‹¬ ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ config.py            # í™˜ê²½ ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ database.py          # DB ì—°ê²°
â”‚   â”‚   â””â”€â”€ security.py          # ì¸ì¦/ì•”í˜¸í™”
â”‚   â”œâ”€â”€ models/                   # SQLAlchemy ëª¨ë¸
â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â””â”€â”€ document.py
â”‚   â”œâ”€â”€ services/                 # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ ocr/
â”‚   â”‚   â””â”€â”€ storage.py
â”‚   â””â”€â”€ main.py                   # FastAPI ì•±
â”‚
â”œâ”€â”€ scripts/                      # ìœ í‹¸ë¦¬í‹° ìŠ¤í¬ë¦½íŠ¸
â”‚   â”œâ”€â”€ filter_traffic_from_training_data.py  # ë°ì´í„° í•„í„°ë§ âœ…
â”‚   â”œâ”€â”€ unify_to_crawling_format.py          # í˜•ì‹ í†µí•© âœ…
â”‚   â”œâ”€â”€ create_embeddings_chromadb.py        # ì„ë² ë”© ìƒì„± âœ…
â”‚   â”œâ”€â”€ test_chromadb_with_sample.py         # ìƒ˜í”Œ í…ŒìŠ¤íŠ¸ âœ…
â”‚   â”œâ”€â”€ crawl_legal_cases.py                 # í¬ë¡¤ë§ (ìˆ˜ì • í•„ìš”)
â”‚   â”œâ”€â”€ identify_new_cases.py                # ì¤‘ë³µ ê²€ì‚¬ (ë¯¸êµ¬í˜„)
â”‚   â”œâ”€â”€ merge_new_data.py                    # ë³‘í•© (ë¯¸êµ¬í˜„)
â”‚   â””â”€â”€ create_embeddings_incremental.py     # ì¦ë¶„ ì„ë² ë”© (ë¯¸êµ¬í˜„)
â”‚
â”œâ”€â”€ alembic/                      # DB ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚   â”œâ”€â”€ versions/
â”‚   â””â”€â”€ env.py
â”‚
â”œâ”€â”€ docs/                         # ë¬¸ì„œ
â”‚   â”œâ”€â”€ archive/                 # ì°¸ê³  ë¬¸ì„œ â­
â”‚   â”‚   â”œâ”€â”€ CHROMADB_SETUP_GUIDE.md
â”‚   â”‚   â”œâ”€â”€ RAG_DATA_STRUCTURE_ANALYSIS.md
â”‚   â”‚   â”œâ”€â”€ PERIODIC_UPDATE_WORKFLOW.md
â”‚   â”‚   â”œâ”€â”€ UNIFIED_DATA_FORMAT.md
â”‚   â”‚   â”œâ”€â”€ CRAWLING_VS_UNIFIED_COMPARISON.md
â”‚   â”‚   â””â”€â”€ CSV_STORAGE_OPTIONS.md
â”‚   â””â”€â”€ API.md (ê³„íš)
â”‚
â”œâ”€â”€ .data/                        # í•™ìŠµ ë°ì´í„° (gitignore)
â”‚   â””â”€â”€ 04.í˜•ì‚¬ë²• LLM ì‚¬ì „í•™ìŠµ.../
â”‚
â”œâ”€â”€ filtered_traffic_data/        # í•„í„°ë§ëœ ë°ì´í„°
â”‚   â””â”€â”€ filtered_traffic_cases_*.json (21MB)
â”‚
â”œâ”€â”€ unified_traffic_data/         # í†µí•© ë°ì´í„°
â”‚   â””â”€â”€ unified_traffic_data_*.json (444MB)
â”‚
â”œâ”€â”€ chroma_db/                    # ChromaDB ì €ì¥ì†Œ
â”‚
â”œâ”€â”€ docker-compose.yml            # Docker ì„¤ì •
â”œâ”€â”€ alembic.ini                   # Alembic ì„¤ì •
â”œâ”€â”€ .env.example                  # í™˜ê²½ ë³€ìˆ˜ ì˜ˆì‹œ
â”œâ”€â”€ requirements.txt              # Python ì˜ì¡´ì„±
â”œâ”€â”€ PROJECT_STATUS_SUMMARY.md     # í”„ë¡œì íŠ¸ í˜„í™© âœ…
â””â”€â”€ SYSTEM_DESIGN.md             # ë³¸ ë¬¸ì„œ â­
```

---

## ğŸš€ í˜„ì¬ ì§„í–‰ ìƒí™©

### âœ… ì™„ë£Œëœ ì‘ì—… (85%)

#### 1. ì¸í”„ë¼ êµ¬ì¶• (100%)
- [x] Docker Compose ì„¤ì •
- [x] PostgreSQL ë°ì´í„°ë² ì´ìŠ¤
- [x] Redis ìºì‹œ
- [x] MinIO ê°ì²´ ìŠ¤í† ë¦¬ì§€
- [x] Alembic ë§ˆì´ê·¸ë ˆì´ì…˜

#### 2. OCR ì‹œìŠ¤í…œ (90%)
- [x] Tesseract OCR í†µí•©
- [x] PDF ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸
- [x] ì´ë¯¸ì§€ OCR
- [x] API ì—”ë“œí¬ì¸íŠ¸
- [ ] ë°±ê·¸ë¼ìš´ë“œ ì‘ì—… (Celery)

#### 3. ë°ì´í„° ì²˜ë¦¬ (100%)
- [x] í•™ìŠµ ë°ì´í„° í•„í„°ë§ (11,769ê±´)
- [x] í¬ë¡¤ë§ í˜•ì‹ í†µí•© (444MB)
- [x] CSV ì „ë¬¸ í¬í•¨ (81.2%)
- [x] í¬ë¡¤ë§ ìƒ˜í”Œ ìˆ˜ì§‘ (20ê±´)

#### 4. RAG ì‹œìŠ¤í…œ (80%)
- [x] ChromaDB í†µí•©
- [x] ì„ë² ë”© ìƒì„± ìŠ¤í¬ë¦½íŠ¸
- [x] RAG API ì—”ë“œí¬ì¸íŠ¸
  - [x] ìœ ì‚¬ íŒë¡€ ê²€ìƒ‰
  - [x] ë²•ë¥  ì§ˆì˜ì‘ë‹µ
  - [x] íŒë¡€ ì¶”ì²œ
  - [x] í†µê³„ ì¡°íšŒ
- [ ] ì „ì²´ ë°ì´í„° ì„ë² ë”© (11,769ê±´)
- [ ] ì„±ëŠ¥ ìµœì í™”

#### 5. ë¬¸ì„œí™” (100%)
- [x] ì‹œìŠ¤í…œ ì„¤ê³„ì„œ (ë³¸ ë¬¸ì„œ)
- [x] í”„ë¡œì íŠ¸ í˜„í™© ì •ë¦¬
- [x] API ë¬¸ì„œ (FastAPI Swagger)
- [x] ì°¸ê³  ë¬¸ì„œ ì •ë¦¬ (docs/archive/)

---

### ğŸš§ ì§„í–‰ ì¤‘ / ëŒ€ê¸° (15%)

#### 1. ì„ë² ë”© ìƒì„± (ì¤€ë¹„ ì™„ë£Œ)
- [ ] ì „ì²´ ë°ì´í„° ì„ë² ë”© (11,769ê±´)
  - ì˜ˆìƒ ì‹œê°„: 15~20ë¶„
  - ì˜ˆìƒ ë¹„ìš©: ~$0.47
  - ìŠ¤í¬ë¦½íŠ¸: ì¤€ë¹„ ì™„ë£Œ

#### 2. ì£¼ê¸°ì  í¬ë¡¤ë§ (ì„¤ê³„ ì™„ë£Œ)
- [ ] í¬ë¡¤ë§ ìŠ¤í¬ë¦½íŠ¸ ìˆ˜ì •
- [ ] ì¤‘ë³µ ê²€ì‚¬ ë¡œì§
- [ ] ë°ì´í„° ë³‘í•© ìŠ¤í¬ë¦½íŠ¸
- [ ] ì¦ë¶„ ì„ë² ë”©
- [ ] ìŠ¤ì¼€ì¤„ëŸ¬ (Cron/Celery)

#### 3. ì¸ì¦/ê¶Œí•œ (ë¯¸êµ¬í˜„)
- [ ] JWT ì¸ì¦
- [ ] ì‚¬ìš©ì ê´€ë¦¬
- [ ] ê¶Œí•œ ê´€ë¦¬ (RBAC)

#### 4. í”„ë¡ íŠ¸ì—”ë“œ (ë¯¸êµ¬í˜„)
- [ ] ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤
- [ ] ê²€ìƒ‰ UI
- [ ] ëŒ€ì‹œë³´ë“œ

---

## ğŸ“‹ í–¥í›„ ê³„íš (ìš°ì„ ìˆœìœ„ë³„)

### Phase 1: RAG ì‹œìŠ¤í…œ ì™„ì„± (1ì£¼)

#### 1-1. ì„ë² ë”© ìƒì„± (30ë¶„)
```bash
# ì „ì²´ ë°ì´í„° ì„ë² ë”©
python3 scripts/create_embeddings_chromadb.py \
  unified_traffic_data/unified_traffic_data_20251103_174822.json \
  --openai-api-key $OPENAI_API_KEY \
  --chroma-dir ./chroma_db \
  --reset
```

**ê²°ê³¼**: ChromaDBì— 11,769ê°œ ë²¡í„° ì €ì¥

---

#### 1-2. API í…ŒìŠ¤íŠ¸ (1ì¼)
- [ ] Postman/curlë¡œ ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸ í…ŒìŠ¤íŠ¸
- [ ] ì„±ëŠ¥ ì¸¡ì • (ê²€ìƒ‰ ì†ë„, ì •í™•ë„)
- [ ] ì—ëŸ¬ í•¸ë“¤ë§ ê°œì„ 

---

#### 1-3. ì„±ëŠ¥ ìµœì í™” (2ì¼)
- [ ] ë°°ì¹˜ í¬ê¸° ì¡°ì •
- [ ] ìºì‹± ì „ëµ (Redis)
- [ ] ì‘ë‹µ ì‹œê°„ ê°œì„ 
- [ ] ë©”ëª¨ë¦¬ ìµœì í™”

---

### Phase 2: ì£¼ê¸°ì  ì—…ë°ì´íŠ¸ ìë™í™” (1ì£¼)

#### 2-1. í¬ë¡¤ë§ ìŠ¤í¬ë¦½íŠ¸ ê°œì„ 
**ìŠ¤í¬ë¦½íŠ¸**: `scripts/crawl_legal_cases.py`

**ìˆ˜ì • ì‚¬í•­**:
```python
# í•„ë“œëª… í†µì¼: íŒë¡€ë‚´ìš© â†’ ì „ë¬¸
detail_info = {
    "íŒì‹œì‚¬í•­": detail.get("íŒì‹œì‚¬í•­", ""),
    "íŒê²°ìš”ì§€": detail.get("íŒê²°ìš”ì§€", ""),
    "ì°¸ì¡°ì¡°ë¬¸": detail.get("ì°¸ì¡°ì¡°ë¬¸", ""),
    "ì „ë¬¸": detail.get("íŒë¡€ë‚´ìš©", ""),  # ë³€ê²½
}
```

---

#### 2-2. ì¦ë¶„ ì—…ë°ì´íŠ¸ íŒŒì´í”„ë¼ì¸ êµ¬í˜„

**ìŠ¤í¬ë¦½íŠ¸ 1**: `scripts/identify_new_cases.py`
```python
def identify_new_cases(crawled_file: str, unified_file: str) -> List[Dict]:
    """
    ì¤‘ë³µ ê²€ì‚¬: íŒë¡€ì¼ë ¨ë²ˆí˜¸ ê¸°ë°˜

    Returns:
        ì‹ ê·œ ì¼€ì´ìŠ¤ë§Œ ë°˜í™˜
    """
    # ê¸°ì¡´ ì¼€ì´ìŠ¤ ID ë¡œë“œ
    existing_ids = load_existing_case_ids(unified_file)

    # ì‹ ê·œ ì¼€ì´ìŠ¤ í•„í„°ë§
    new_cases = []
    for case in crawled_cases:
        if case['íŒë¡€ì¼ë ¨ë²ˆí˜¸'] not in existing_ids:
            new_cases.append(case)

    return new_cases
```

**ìŠ¤í¬ë¦½íŠ¸ 2**: `scripts/merge_new_data.py`
```python
def merge_new_data(unified_file: str, new_cases: List[Dict]):
    """
    ì‹ ê·œ ì¼€ì´ìŠ¤ë¥¼ í†µí•© ë°ì´í„°ì— ë³‘í•©

    - ìë™ ë°±ì—…
    - íƒ€ì…ë³„ ë¶„ë¥˜
    - í†µê³„ ì—…ë°ì´íŠ¸
    """
    # ë°±ì—…
    backup_file = create_backup(unified_file)

    # ë³‘í•©
    data = load_json(unified_file)
    for case_type in ['íŒë¡€', 'ê²°ì •ë¡€', 'í•´ì„ë¡€', 'ë²•ë ¹']:
        data[case_type].extend(new_cases_by_type[case_type])

    # ì €ì¥
    save_json(unified_file, data)
```

**ìŠ¤í¬ë¦½íŠ¸ 3**: `scripts/create_embeddings_incremental.py`
```python
def create_incremental_embeddings(new_cases: List[Dict]):
    """
    ì‹ ê·œ ì¼€ì´ìŠ¤ë§Œ ì„ë² ë”© ìƒì„±

    - ChromaDB ì»¬ë ‰ì…˜ ìœ ì§€
    - ì‹ ê·œ ë²¡í„°ë§Œ ì¶”ê°€
    """
    # ChromaDB í´ë¼ì´ì–¸íŠ¸
    creator = ChromaDBEmbeddingCreator(...)
    creator.collection = creator.chroma_client.get_collection(...)

    # ì‹ ê·œ ì¼€ì´ìŠ¤ë§Œ ì„ë² ë”©
    creator.add_cases_to_chromadb(new_cases, case_type)
```

---

#### 2-3. ìŠ¤ì¼€ì¤„ëŸ¬ êµ¬í˜„

**ë°©ë²• 1: Cron (ê°„ë‹¨)**
```bash
# crontab -e
0 2 * * * cd /path/to/project && python3 scripts/daily_update.py
```

**ë°©ë²• 2: Celery Beat (ê¶Œì¥)**
```python
# app/tasks/scheduler.py
from celery import Celery
from celery.schedules import crontab

app = Celery('tasks', broker='redis://localhost:6379')

@app.task
def daily_legal_data_update():
    """ë§¤ì¼ ìƒˆë²½ 2ì‹œ ì‹¤í–‰"""
    # 1. í¬ë¡¤ë§
    crawl_legal_cases()

    # 2. ì¤‘ë³µ ê²€ì‚¬
    new_cases = identify_new_cases()

    # 3. ë³‘í•©
    merge_new_data(new_cases)

    # 4. ì„ë² ë”©
    create_incremental_embeddings(new_cases)

    # 5. ì•Œë¦¼
    send_notification(f"Updated: {len(new_cases)} new cases")

app.conf.beat_schedule = {
    'daily-update': {
        'task': 'tasks.daily_legal_data_update',
        'schedule': crontab(hour=2, minute=0)
    }
}
```

---

### Phase 3: ì¸ì¦ ë° ì‚¬ìš©ì ê´€ë¦¬ (3ì¼)

#### 3-1. JWT ì¸ì¦ êµ¬í˜„
- [ ] ë¡œê·¸ì¸/ë¡œê·¸ì•„ì›ƒ API
- [ ] í† í° ë°œê¸‰/ê°±ì‹ 
- [ ] ë¹„ë°€ë²ˆí˜¸ ì•”í˜¸í™” (bcrypt)

#### 3-2. ì‚¬ìš©ì ê´€ë¦¬
- [ ] íšŒì›ê°€ì…
- [ ] í”„ë¡œí•„ ê´€ë¦¬
- [ ] ê¶Œí•œ ê´€ë¦¬ (RBAC)

---

### Phase 4: í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ (2ì£¼)

#### 4-1. ê²€ìƒ‰ UI
- [ ] íŒë¡€ ê²€ìƒ‰ í˜ì´ì§€
- [ ] ìœ ì‚¬ íŒë¡€ ì¶”ì²œ
- [ ] í•„í„°ë§ (ë²•ì›, ë‚ ì§œ)

#### 4-2. ì§ˆì˜ì‘ë‹µ UI
- [ ] ì±—ë´‡ ì¸í„°í˜ì´ìŠ¤
- [ ] ì¶œì²˜ íŒë¡€ í‘œì‹œ
- [ ] ë¶ë§ˆí¬ ê¸°ëŠ¥

#### 4-3. ëŒ€ì‹œë³´ë“œ
- [ ] í†µê³„ ì‹œê°í™”
- [ ] ìµœê·¼ íŒë¡€
- [ ] ì¸ê¸° ê²€ìƒ‰ì–´

---

## ğŸ’° ì˜ˆìƒ ë¹„ìš© (ì›”ê°„)

### OpenAI API
| í•­ëª© | ì‚¬ìš©ëŸ‰ | ë‹¨ê°€ | ì›”ê°„ ë¹„ìš© |
|------|--------|------|----------|
| **ì´ˆê¸° ì„ë² ë”©** | 11,769ê±´ | - | $0.47 (1íšŒ) |
| **ì¼ì¼ í¬ë¡¤ë§** | ~50ê±´/ì¼ | $0.00002/1K tokens | $0.06 |
| **ì§ˆì˜ì‘ë‹µ** | 100ê±´/ì¼ | $0.0007/ê±´ | $2.10 |
| **ì›”ê°„ í•©ê³„** | - | - | **~$2.63** |

### ì¸í”„ë¼ (Self-hosted)
- Docker: ë¬´ë£Œ
- PostgreSQL: ë¬´ë£Œ
- ChromaDB: ë¬´ë£Œ
- Redis: ë¬´ë£Œ
- MinIO: ë¬´ë£Œ

**ì´ ì›”ê°„ ë¹„ìš©**: ~$2.63 (OpenAIë§Œ)

---

## ğŸ“Š ì„±ëŠ¥ ëª©í‘œ

### ê²€ìƒ‰ ì„±ëŠ¥
- **ì‘ë‹µ ì‹œê°„**: < 100ms (í‰ê· )
- **ì •í™•ë„**: > 85% (Top-5)
- **ë™ì‹œ ì‚¬ìš©ì**: 100ëª…

### í¬ë¡¤ë§ ì„±ëŠ¥
- **ì¼ì¼ ìˆ˜ì§‘**: 50~100ê±´
- **ì²˜ë¦¬ ì‹œê°„**: < 10ë¶„
- **ì„±ê³µë¥ **: > 95%

### ì„ë² ë”© ì„±ëŠ¥
- **ìƒì„± ì†ë„**: ~50ê±´/ë¶„
- **ë©”ëª¨ë¦¬ ì‚¬ìš©**: < 2GB
- **ë””ìŠ¤í¬ ì‚¬ìš©**: ~3GB (11,769ê±´)

---

## ğŸ”’ ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### 1. API ë³´ì•ˆ
- [ ] HTTPS ì ìš©
- [ ] CORS ì„¤ì •
- [ ] Rate Limiting
- [ ] API Key ê´€ë¦¬

### 2. ë°ì´í„° ë³´ì•ˆ
- [ ] íŒŒì¼ ì•”í˜¸í™” (AES-256)
- [ ] ë¹„ë°€ë²ˆí˜¸ í•´ì‹± (bcrypt)
- [ ] SQL Injection ë°©ì§€
- [ ] XSS ë°©ì§€

### 3. ì¸í”„ë¼ ë³´ì•ˆ
- [ ] í™˜ê²½ ë³€ìˆ˜ ê´€ë¦¬ (.env)
- [ ] ì‹œí¬ë¦¿ ê´€ë¦¬ (Docker Secrets)
- [ ] ë°©í™”ë²½ ì„¤ì •
- [ ] ë°±ì—… ì „ëµ

---

## ğŸ“ˆ ëª¨ë‹ˆí„°ë§ ë° ë¡œê¹…

### 1. ì• í”Œë¦¬ì¼€ì´ì…˜ ëª¨ë‹ˆí„°ë§
- [ ] ì‘ë‹µ ì‹œê°„ ì¶”ì 
- [ ] ì—ëŸ¬ìœ¨ ëª¨ë‹ˆí„°ë§
- [ ] API ì‚¬ìš©ëŸ‰ í†µê³„

### 2. ì¸í”„ë¼ ëª¨ë‹ˆí„°ë§
- [ ] CPU/ë©”ëª¨ë¦¬ ì‚¬ìš©ë¥ 
- [ ] ë””ìŠ¤í¬ ì‚¬ìš©ëŸ‰
- [ ] ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½

### 3. ë¡œê¹…
- [ ] êµ¬ì¡°í™”ëœ ë¡œê·¸ (JSON)
- [ ] ë¡œê·¸ ë ˆë²¨ (DEBUG, INFO, ERROR)
- [ ] ë¡œê·¸ ë¡œí…Œì´ì…˜

---

## ğŸ§ª í…ŒìŠ¤íŠ¸ ì „ëµ

### 1. Unit Tests
- [ ] API ì—”ë“œí¬ì¸íŠ¸
- [ ] ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
- [ ] ë°ì´í„° ì²˜ë¦¬ ìŠ¤í¬ë¦½íŠ¸

### 2. Integration Tests
- [ ] DB ì—°ë™
- [ ] ChromaDB ì—°ë™
- [ ] OpenAI API ì—°ë™

### 3. E2E Tests
- [ ] ì „ì²´ ì›Œí¬í”Œë¡œìš°
- [ ] ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤

---

## ğŸ“š ì°¸ê³  ìë£Œ

### ê¸°ìˆ  ë¬¸ì„œ
- [FastAPI ê³µì‹ ë¬¸ì„œ](https://fastapi.tiangolo.com/)
- [ChromaDB ê³µì‹ ë¬¸ì„œ](https://docs.trychroma.com/)
- [OpenAI API ë¬¸ì„œ](https://platform.openai.com/docs)
- [PostgreSQL ë¬¸ì„œ](https://www.postgresql.org/docs/)

### í”„ë¡œì íŠ¸ ë¬¸ì„œ
- [docs/archive/CHROMADB_SETUP_GUIDE.md](docs/archive/CHROMADB_SETUP_GUIDE.md) - ChromaDB ì„¤ì •
- [docs/archive/RAG_DATA_STRUCTURE_ANALYSIS.md](docs/archive/RAG_DATA_STRUCTURE_ANALYSIS.md) - RAG ì•„í‚¤í…ì²˜
- [docs/archive/PERIODIC_UPDATE_WORKFLOW.md](docs/archive/PERIODIC_UPDATE_WORKFLOW.md) - ìë™í™” ì›Œí¬í”Œë¡œìš°
- [PROJECT_STATUS_SUMMARY.md](PROJECT_STATUS_SUMMARY.md) - í”„ë¡œì íŠ¸ í˜„í™©

---

## âœ… Quick Start Guide

### 1. í™˜ê²½ ì„¤ì •
```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone <repository-url>
cd ai-camp-1st-llm-agent-service-project-2

# í™˜ê²½ ë³€ìˆ˜ ì„¤ì •
cp .env.example .env
# .env íŒŒì¼ í¸ì§‘ (OpenAI API í‚¤ ë“±)

# Docker ì„œë¹„ìŠ¤ ì‹œì‘
docker-compose up -d
```

### 2. ë°ì´í„° ì¤€ë¹„ (ì´ë¯¸ ì™„ë£Œ)
```bash
# í•„í„°ë§ëœ ë°ì´í„° í™•ì¸
ls -lh filtered_traffic_data/

# í†µí•© ë°ì´í„° í™•ì¸
ls -lh unified_traffic_data/
```

### 3. ì„ë² ë”© ìƒì„± (ì„ íƒ)
```bash
# ìƒ˜í”Œ í…ŒìŠ¤íŠ¸
python3 scripts/test_chromadb_with_sample.py --sample-size 20

# ì „ì²´ ë°ì´í„°
python3 scripts/create_embeddings_chromadb.py \
  unified_traffic_data/unified_traffic_data_20251103_174822.json \
  --openai-api-key $OPENAI_API_KEY
```

### 4. API ì„œë²„ ì‹œì‘
```bash
# ê°œë°œ ëª¨ë“œ
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000

# API ë¬¸ì„œ í™•ì¸
open http://localhost:8000/docs
```

### 5. API í…ŒìŠ¤íŠ¸
```bash
# ìœ ì‚¬ íŒë¡€ ê²€ìƒ‰
curl -X POST "http://localhost:8000/api/v1/rag/similar-cases" \
  -H "Content-Type: application/json" \
  -d '{"query": "ë¬´ë³´í—˜ ì°¨ëŸ‰ êµí†µì‚¬ê³ ", "top_k": 5}'

# ë²•ë¥  ì§ˆì˜ì‘ë‹µ
curl -X POST "http://localhost:8000/api/v1/rag/legal-qa" \
  -H "Content-Type: application/json" \
  -d '{"question": "ìŒì£¼ìš´ì „ ì²˜ë²Œ ê¸°ì¤€ì€?", "top_k": 3}'
```

---

## ğŸ¯ ë§ˆì¼ìŠ¤í†¤

### 2025-11 (í˜„ì¬)
- [x] ê¸°ë³¸ ì¸í”„ë¼ êµ¬ì¶•
- [x] OCR ì‹œìŠ¤í…œ êµ¬í˜„
- [x] ë°ì´í„° ì²˜ë¦¬ íŒŒì´í”„ë¼ì¸
- [x] RAG API êµ¬í˜„
- [ ] ì „ì²´ ì„ë² ë”© ìƒì„±

### 2025-12 (ê³„íš)
- [ ] ì£¼ê¸°ì  í¬ë¡¤ë§ ìë™í™”
- [ ] ì¸ì¦ ì‹œìŠ¤í…œ
- [ ] í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ì‹œì‘

### 2026-01 (ê³„íš)
- [ ] í”„ë¡ íŠ¸ì—”ë“œ ì™„ì„±
- [ ] ì„±ëŠ¥ ìµœì í™”
- [ ] ë² íƒ€ í…ŒìŠ¤íŠ¸

### 2026-02 (ê³„íš)
- [ ] ì •ì‹ ì„œë¹„ìŠ¤ ì˜¤í”ˆ
- [ ] ëª¨ë‹ˆí„°ë§ ì²´ê³„ êµ¬ì¶•

---

## ğŸ“ ì§€ì› ë° ë¬¸ì˜

### ì´ìŠˆ ë³´ê³ 
- GitHub Issues: [í”„ë¡œì íŠ¸ ì´ìŠˆ í˜ì´ì§€]
- ë²„ê·¸ ë¦¬í¬íŠ¸ í…œí”Œë¦¿ ì‚¬ìš©

### ê¸°ì—¬ ë°©ë²•
1. Fork the repository
2. Create a feature branch
3. Commit your changes
4. Push to the branch
5. Create a Pull Request

---

**ì‘ì„±ì¼**: 2025-11-04
**ìµœì¢… ì—…ë°ì´íŠ¸**: 2025-11-04
**ë²„ì „**: 1.0
**ì§„í–‰ë¥ **: 85%
